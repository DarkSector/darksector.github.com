
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Pronoy Chopra's Blog</title>
  <meta name="author" content="Pronoy Chopra">

  
  <meta name="description" content="I have worked with Debian, Ubuntu Server, ArchLinux and now CentOS and what a kick in the nuts it has been. CentOS 5.8 ships with Python 2.4 and it &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://DarkSector.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Pronoy Chopra's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Pronoy Chopra's Blog</a></h1>
  
    <h2>Rants and code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:DarkSector.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/my-experience-with-centos-5-dot-8-and-setting-up-flask/">My Experience With CentOS 5.8 and Setting Up Flask</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-26T03:44:00+05:30" pubdate data-updated="true">Aug 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have worked with Debian, Ubuntu Server, ArchLinux and now CentOS and what a kick in the nuts it has been. CentOS 5.8 ships with Python 2.4 and it is an absolute pain to setup. But finally it&#8217;s done.</p>

<p>So I began with installing Python2.7.3 first.</p>

<figure class='code'><figcaption><span>install Python2.7</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>wget http://www.python.org/ftp/python/2.7/Python-2.7.tgz
</span><span class='line'><span class="nv">$ </span>tar -xvf Python-2.7.tgz
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>Python-2.7
</span><span class='line'><span class="nv">$ </span>su
</span><span class='line'>root<span class="nv">$ </span>./configure --prefix<span class="o">=</span>/usr/local
</span><span class='line'>root<span class="nv">$ </span>make <span class="o">&amp;&amp;</span> make altinstall
</span></code></pre></td></tr></table></div></figure>


<p>Now we have Python2.7 binary in /usr/local/bin and we can go about installing Setuptools</p>

<figure class='code'><figcaption><span>install Setuptools</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>wget http://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz#md5<span class="o">=</span>7df2a529a074f613b509fb44feefe74e
</span><span class='line'><span class="nv">$ </span>tar -xvf setuptools-0.6c11.tar.gz
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>setuptools-0.6c11
</span><span class='line'><span class="nv">$ </span>su
</span><span class='line'>root<span class="nv">$ </span>python2.7 setup.py install
</span><span class='line'>root<span class="nv">$ </span>easy_install-2.7 install pip
</span><span class='line'>root<span class="nv">$ </span>pip-2.7 install virtualenv
</span></code></pre></td></tr></table></div></figure>


<p>Now, after having done all of this, I needed to install mod_wsgi</p>

<figure class='code'><figcaption><span>mod_wsgi</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>yum install mod_wsgi
</span></code></pre></td></tr></table></div></figure>


<p>And that&#8217;s where I asked people at #pocoo to shoot me in the face. It turns out you need mod_wsgi compiled with Python2.7 to use it with Python2.7</p>

<p>So, let&#8217;s uninstall mod_wsgi and then build it from source</p>

<figure class='code'><figcaption><span>compile mod_wsgi</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>wget http://code.google.com/p/modwsgi/downloads/detail?name<span class="o">=</span>mod_wsgi-3.4.tar.gz
</span><span class='line'><span class="nv">$ </span>tar -xvf mod_wsgi-3.4.tar.gz
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>mod_wsgi-3.4
</span><span class='line'><span class="nv">$ </span>./configure --using-python<span class="o">=</span>/usr/local/bin/python2.7
</span><span class='line'><span class="nv">$ </span>make
</span></code></pre></td></tr></table></div></figure>


<p>I got this error <a href="http://code.google.com/p/modwsgi/wiki/InstallationIssues#Mixing_32_Bit_And_64_Bit_Packages">http://code.google.com/p/modwsgi/wiki/InstallationIssues#Mixing_32_Bit_And_64_Bit_Packages</a> Which means it needs Python2.7 built with x86_64 not the 32 bit.</p>

<p>So, now, reinstall Python2.7</p>

<figure class='code'><figcaption><span>install Python2.7</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>Python-2.7
</span><span class='line'><span class="nv">$ </span>su
</span><span class='line'>root<span class="nv">$ </span>./configure --prefix<span class="o">=</span>/usr/local --enable-shared
</span><span class='line'>root<span class="nv">$ </span>make <span class="o">&amp;&amp;</span> make altinstall
</span></code></pre></td></tr></table></div></figure>


<p>And now reinstall mod_wsgi. Wow, this has been so difficult.</p>

<p>Anyway the problem doesn&#8217;t end here. Now we have to configure httpd.conf</p>

<figure class='code'><figcaption><span>httpd.conf</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>WSGISocketPrefix /var/run/wsgi
</span><span class='line'>WSGIPythonHome /var/www/virtual
</span><span class='line'>#WSGIPythonPath /var/www/test/virtual
</span><span class='line'><span class="nt">&lt;VirtualHost</span> <span class="err">122.99.126.71:80</span><span class="nt">&gt;</span>
</span><span class='line'>ServerName rhknhost
</span><span class='line'>WSGIDaemonProcess herokufinal user=pronoy group=pronoy threads=5
</span><span class='line'>WSGIScriptAlias / &quot;/var/www/herokufinal/herokufinal.wsgi&quot;
</span><span class='line'>DocumentRoot /var/www/herokufinal
</span><span class='line'>ErrorLog /var/www/herokufinal/logs/error.log
</span><span class='line'>
</span><span class='line'>        <span class="nt">&lt;Directory</span> <span class="err">/var/www/herokufinal</span><span class="nt">&gt;</span>
</span><span class='line'>                WSGIProcessGroup herokufinal
</span><span class='line'>                WSGIApplicationGroup %{GLOBAL}
</span><span class='line'>                WSGIScriptReloading On
</span><span class='line'>                Options Indexes FollowSymlinks Multiviews
</span><span class='line'>                Order deny,allow
</span><span class='line'>                Allow from all
</span><span class='line'>        <span class="nt">&lt;/Directory&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/VirtualHost&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then create the .wsgi file for running the application</p>

<figure class='code'><figcaption><span>myapplication.wsgi</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">activate_this</span>  <span class="o">=</span> <span class="s">&#39;/var/www/virtual/bin/activate_this.py&#39;</span>
</span><span class='line'><span class="nb">execfile</span><span class="p">(</span><span class="n">activate_this</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">__file__</span><span class="o">=</span><span class="n">activate_this</span><span class="p">))</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;/var/www/herokufinal&#39;</span><span class="p">)</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">profilebuilder</span> <span class="kn">import</span> <span class="n">app</span> <span class="k">as</span> <span class="n">application</span>
</span></code></pre></td></tr></table></div></figure>


<p>Jesus. The time it took to figure this out. Oh God, I could&#8217;ve built a fucking house by then. 12 continuous hours. Never again CentOS. Never again.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/finally-got-allegro-5-working-on-mac-os-x/">Finally Got Allegro 5 Working on Mac OS X</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-21T20:43:00+05:30" pubdate data-updated="true">Jul 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve ranted about this before I was unable to get Allegro working on Mac OS X. So today, for no reason I tried it again. Followed the <a href="http://wiki.allegro.cc/index.php?title=OSX,_Xcode_4,_Framework">Wiki</a> to the letter and yet, it wouldn&#8217;t work. It was unable to find the frameworks. Specifically Allegro-5.0Framework. I did EVERYTHING and couldn&#8217;t figure it out. Until while searching for Header Search Paths in Build Settings caught my eye. There was a Framework Search Path too. And I provided it with the path /Library/Framework.</p>

<p><img src="http://f.cl.ly/items/0d2p1b3y2n2D3b0f0R1q/Screen%20Shot%202012-07-21%20at%209.42.25%20PM.png"></p>

<p>It worked and I need to kill someone now. Seriously, fuck you Xcode, fuck you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/arduino-ir-code-updated/">Arduino IR Code: Updated</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-26T13:34:00+05:30" pubdate data-updated="true">Jun 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here&#8217;s my updated Arduino code that I wrote to go with the protoshield by <a href="http://www.9circuits.com">9circuits</a> and the relay shield connected to the protoshield.</p>

<p><img src="http://arduino.cc/en/uploads/Main/ArduinoUno_r2_front450px.jpg"></p>

<figure class='code'><figcaption><span>ArduinoIR.cpp</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="kt">int</span> <span class="n">RECV_PIN</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">relay2</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">relay1</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</span><span class='line'><span class="kt">long</span> <span class="n">vol_down</span> <span class="o">=</span> <span class="mi">948321226</span><span class="p">;</span>
</span><span class='line'><span class="kt">long</span> <span class="n">vol_up</span> <span class="o">=</span> <span class="mi">948321218</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="n">boolean</span> <span class="n">relay1_FLAG</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
</span><span class='line'><span class="n">boolean</span> <span class="n">relay2_FLAG</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#include &lt;IRremote.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">IRrecv</span> <span class="n">irrecv</span><span class="p">(</span><span class="n">RECV_PIN</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">decode_results</span> <span class="n">results</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
</span><span class='line'>  <span class="n">irrecv</span><span class="p">.</span><span class="n">enableIRIn</span><span class="p">();</span>
</span><span class='line'>  <span class="n">pinMode</span><span class="p">(</span><span class="n">relay1</span><span class="p">,</span><span class="n">OUTPUT</span><span class="p">);</span>
</span><span class='line'>  <span class="n">pinMode</span><span class="p">(</span><span class="n">relay2</span><span class="p">,</span><span class="n">OUTPUT</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">check_val_execute</span><span class="p">(</span><span class="kt">long</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">vol_down</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">relay1_FLAG</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">light1_on</span><span class="p">();</span>
</span><span class='line'>      <span class="n">relay1_FLAG</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">relay1_FLAG</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">light1_off</span><span class="p">();</span>
</span><span class='line'>      <span class="n">relay1_FLAG</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">relay1_FLAG</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">vol_up</span><span class="p">){</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">relay2_FLAG</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">light2_on</span><span class="p">();</span>
</span><span class='line'>      <span class="n">relay2_FLAG</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">relay2_FLAG</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">light2_off</span><span class="p">();</span>
</span><span class='line'>      <span class="n">relay2_FLAG</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">relay2_FLAG</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">light1_on</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">relay1</span><span class="p">,</span><span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">light2_on</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">relay2</span><span class="p">,</span><span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">light1_off</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">relay1</span><span class="p">,</span><span class="n">LOW</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">light2_off</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">relay2</span><span class="p">,</span><span class="n">LOW</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">irrecv</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">results</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//Serial.println(results.value, DEC);</span>
</span><span class='line'>    <span class="n">delay</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
</span><span class='line'>    <span class="n">irrecv</span><span class="p">.</span><span class="n">resume</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">long</span> <span class="n">x</span> <span class="o">=</span> <span class="n">results</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
</span><span class='line'>    <span class="n">check_val_execute</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>No comments yet, I&#8217;ll do that later.r</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/nasas-iss-live-stream/">NASAs ISS Live Stream</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-15T02:51:00+05:30" pubdate data-updated="true">Jun 15<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is just a link to the stream that I need to find again and again whenever I want to tune into the NASA&#8217;s ISS Live Stream.</p>

<p><img src="http://justsap.org/wp-content/uploads/f2160nasa-international-space-station.jpg"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mms://a1709.l1856953708.c18569.g.lm.akamaistream.net/D/1709/18569/v0001/reflector:53708</span></code></pre></td></tr></table></div></figure>


<p>Open using VLC.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/configured-linksys-wrt120n-bye-bye-old-wifi/">Configured Linksys WRT120N: Bye Bye Old Wifi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-05T11:23:00+05:30" pubdate data-updated="true">Jun 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I finally decided to close my native router (Teracom&#8217;s) Wifi and get a proper lossless Wifi running at home. I have had the urge to use this router for a long time now. It was gifted to me by my cousin but I never got around to understanding how to deploy it. Except today. I closed the Teracom Wifi and extended an ethernet cable to the Linksys router.</p>

<p>Now earlier I wasn&#8217;t able to deploy it because I didn&#8217;t realize it ran on an extended bridged network. I thought it ran PPPoE. I mean it does run PPPoE but only via a service provider&#8217;s ethernet network. Considering over here in India we don&#8217;t have that we use a bridged network. Okay so that being said and done, I tried to plug an ethernet cable running from the Teracom (henceforth called T) to the Cisco.</p>

<p><img src="http://www.zdtronic.com/images/WRT120N.jpg"></p>

<p>It didn&#8217;t obviously work the first time (No surprised there). But strangely it was communicating with the network but not relaying packets here. Then I remembered our old exercises back from college. It was obvious, there was subnet conflict. The second router would have two networks. One terminating at it and the other originating from it.</p>

<p>So, if the first subnet was as 192.168.1.foo the other would obviously have to be different. So, the other became 192.160.1.foo and voila it worked like a charm. The problem with T&#8217;s network was that it was dropping packets a lot. I don&#8217;t know why that started happening suddenly but hey, use Cisco be safe.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/heroku-is-full-of-surprises/">Heroku Is Full of Surprises</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-29T23:47:00+05:30" pubdate data-updated="true">May 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So we finally deployed on <a href="http://heroku.com">Heroku</a> for a quick run and what do we find? The dynos idle if not used for an hour. So your app will sleep if you don&#8217;t send it a request for an hour. I was scared for a second when I realized my app had been killed because probably it refused to sleep.</p>

<p>But hey what&#8217;s this, there&#8217;s another app that sends request to wake idling apps so that the dynos won&#8217;t sleep. Enter <a href="http://www.wekkars.com/">Wekkars</a>. I mean there isn&#8217;t a puzzle created by human beings that another human being can&#8217;t solve. Well I read that in an Edgar Allan Poe book so nevermind the cheesy lines.</p>

<p>On the other hand, the good thing about Heroku is it&#8217;s ease of deployment. I mean what do you need to do really:</p>

<ol>
<li>Create your app</li>
<li>Create a Procfile that will start your app</li>
<li>Commit code to heroku master (using git)</li>
<li>Profit</li>
</ol>


<p>there&#8217;s an additional 3.5 that involves adding a helper add on but that is trivial. So Heroku is pretty good, we&#8217;ll continue testing.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/avr-assembly/">AVR Assembly Revisted</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-23T23:22:00+05:30" pubdate data-updated="true">May 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Assembly for AVR is really interesting. Back in college I wrote a number of programs and I&#8217;ve been going over them again. This is some of the code.</p>

<div><script src='https://gist.github.com/2776751.js?file='></script>
<noscript><pre><code>.ORG 0

;STACK POINTER SET
LDI R16, HIGH(RAMEND)
OUT SPH, R16
LDI R16, LOW(RAMEND)
OUT SPL, R16


MAIN:
LDI R16, 0xFF
OUT DDRC, R16

BACK:
COM R16
OUT PORTC, R16
CALL DELAY
RJMP BACK

DELAY:
LDI R17, 100
LOOP3: LDI R18, 255
LOOP2: LDI R19, 255
LOOP1: DEC R19
BRNE LOOP1
DEC R18
BRNE LOOP2
DEC R17
BRNE LOOP3
RET</code></pre></noscript></div>


<p>I have 8 LEDs connected from D0 to D7 on PORTC and they are in the source configuration. 0xFF makes them light up and 0x00 shuts them down. So this is the blinky for you.</p>

<p>Now the DELAY function can only be called if the STACKPOINTER is set. The first few lines after .ORG do just that. Now I&#8217;ll be working on timer and interrupts but first I&#8217;ll put in some more code for simple things like adding 16 bit numbers etc.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/my-experience-with-pymongo-till-now/">My Experience With Pymongo Till Now</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-21T23:34:00+05:30" pubdate data-updated="true">May 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In one word, it&#8217;s been pretty awesome. <a href="http://api.mongodb.org/python/current/">PyMongo</a>, the Non relational database is pretty good. Here&#8217;s some code.</p>

<figure class='code'><figcaption><span>PyMongo insertion</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">Connection</span> <span class="k">as</span> <span class="n">c</span>
</span><span class='line'>
</span><span class='line'><span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">45000</span><span class="p">)</span>
</span><span class='line'><span class="n">db</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="s">&#39;test_db&#39;</span><span class="p">]</span>
</span><span class='line'><span class="n">users</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">test_db</span><span class="p">[</span><span class="s">&#39;userlist&#39;</span><span class="p">]</span>
</span><span class='line'><span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span><span class="s">&#39;pronoy&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span><span class="s">&#39;foobar&#39;</span><span class="p">}</span>
</span><span class='line'><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now to retrieve the info it&#8217;s even simpler.</p>

<figure class='code'><figcaption><span>Retrieving data</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">Connection</span> <span class="k">as</span> <span class="n">c</span>
</span><span class='line'>
</span><span class='line'><span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">45000</span><span class="p">)</span>
</span><span class='line'><span class="n">db</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="s">&#39;test_db&#39;</span><span class="p">]</span>
</span><span class='line'><span class="n">users</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">test_db</span><span class="p">[</span><span class="s">&#39;userlist&#39;</span><span class="p">]</span>
</span><span class='line'><span class="n">users</span><span class="o">.</span><span class="n">find</span><span class="p">({</span><span class="s">&#39;username&#39;</span><span class="p">:</span><span class="s">&#39;pronoy&#39;</span><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>The interesting this is, if the collection isn&#8217;t available it&#8217;ll create it and if the database doesn&#8217;t exist, it&#8217;ll create that too. I tried using mongodb deployed on our lab machine and the python application running on my machine. Worked like a charm.</p>

<p>Now we can also search according to the _id key generated by the BSON.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">Connection</span> <span class="k">as</span> <span class="n">c</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">bson.objectid</span> <span class="kn">import</span> <span class="n">ObjectId</span><span class="p">,</span> <span class="n">InvalidId</span>
</span><span class='line'>
</span><span class='line'><span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">45000</span><span class="p">)</span>
</span><span class='line'><span class="n">db</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="s">&#39;test_db&#39;</span><span class="p">]</span>
</span><span class='line'><span class="n">users</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">test_db</span><span class="p">[</span><span class="s">&#39;userlist&#39;</span><span class="p">]</span>
</span><span class='line'><span class="k">try</span><span class="p">:</span>
</span><span class='line'>  <span class="n">users</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">ObjectId</span><span class="p">(</span><span class="s">&#39;728als450000000&#39;</span><span class="p">))</span>
</span><span class='line'><span class="k">except</span> <span class="n">InvalidId</span><span class="p">:</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&quot;No such ID exists&quot;</span>
</span><span class='line'><span class="k">else</span><span class="p">:</span>
</span><span class='line'>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">users</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">ObjectId</span><span class="p">(</span><span class="s">&#39;728als450000000&#39;</span><span class="p">)):</span>
</span><span class='line'>      <span class="k">print</span> <span class="n">i</span>
</span></code></pre></td></tr></table></div></figure>


<p>Took me quite a while to figure out that ObjectId and InvalidId belong to BSON and not pymongo. Either way work is good and next post I&#8217;ll share my experience with Flask-Sijax. It&#8217;s a really cool way of implementing jQuery Ajax calls.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/replaced-spotlight-with-quicksilver/">Replaced Spotlight With QuickSilver</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-14T14:57:00+05:30" pubdate data-updated="true">May 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So after I decided not to use mds I removed spotlight&#8217;s icon as well. Now I am using QuickSilver for the whole thing. It&#8217;s way faster.</p>

<p>Here&#8217;s a screenshot.</p>

<p><img src="http://f.cl.ly/items/1H3A2A0W0Q2A2j0E3S21/Screen%20Shot%202012-05-14%20at%202.54.46%20PM.png"></p>

<p>Yep, seems legit.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/spotlight-slash-mds-the-memory-hogger/">Spotlight/mds the Memory Hogger</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-14T12:09:00+05:30" pubdate data-updated="true">May 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So in a yet another failure of an experience with the Mac Mini I have now realized why Apple is trying to put in SSD in all its products. I think it&#8217;s because of the memory hogger called mds. It is supposed sit quietly and index files but as it turns out, the bugger takes almost 50 percent of the RAM.</p>

<p><img src="http://f.cl.ly/items/3J3c3F3i1s0R1f2b1X1s/Screen%20Shot%202012-05-14%20at%2012.04.32%20PM.png"></p>

<p>The highlighted one is the one I am talking about. I think I need to disable spotlight and put in QuickSilver.</p>

<p>I shall call my app, GetLostSpotlight. The code will be on Github obviously.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/my-experience-with-centos-5-dot-8-and-setting-up-flask/">My experience with CentOS 5.8 and setting up Flask</a>
      </li>
    
      <li class="post">
        <a href="/blog/finally-got-allegro-5-working-on-mac-os-x/">Finally got Allegro 5 working on Mac OS X</a>
      </li>
    
      <li class="post">
        <a href="/blog/arduino-ir-code-updated/">Arduino IR code: updated</a>
      </li>
    
      <li class="post">
        <a href="/blog/nasas-iss-live-stream/">NASAs ISS live stream</a>
      </li>
    
      <li class="post">
        <a href="/blog/configured-linksys-wrt120n-bye-bye-old-wifi/">Configured Linksys WRT120N: Bye bye old Wifi</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/DarkSector">@DarkSector</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'DarkSector',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Pronoy Chopra -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
