<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: code | Pronoy Chopra's Blog]]></title>
  <link href="http://DarkSector.github.com/blog/categories/code/atom.xml" rel="self"/>
  <link href="http://DarkSector.github.com/"/>
  <updated>2012-06-05T11:40:53+05:30</updated>
  <id>http://DarkSector.github.com/</id>
  <author>
    <name><![CDATA[Pronoy Chopra]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Attempting integration with WTForms with MongoAlchemy]]></title>
    <link href="http://DarkSector.github.com/blog/attempting-integration-with-wtforms-with-mongoalchemy/"/>
    <updated>2012-04-18T10:56:00+05:30</updated>
    <id>http://DarkSector.github.com/blog/attempting-integration-with-wtforms-with-mongoalchemy</id>
    <content type="html"><![CDATA[<p>So the forms.py looks something like this.</p>

<p>``` python forms.py
from <strong>future</strong> import with_statement</p>

<p>from flask import Flask, request, session, g, redirect, url_for, abort, \</p>

<pre><code> render_template, flash
</code></pre>

<p>from flaskext.wtf import Form, TextField, TextAreaField, \</p>

<pre><code> PasswordField, SubmitField, Required, SelectField, ValidationError, \
 RadioField
</code></pre>

<p>from foo import app
from foo import db</p>

<p>class BuilderForm(Form):</p>

<pre><code>"""Function used to create custom fields"""
field_name = TextField()
field_type = SelectField(u'Type of Field',choices=[('','')])
submit = SubmitField('Submit Information')
</code></pre>

<p>class Register(Form):</p>

<pre><code>"""Form for registeration of professional, org or moderator"""      
usertype = SelectField(u'Type of user', choices=[('org','Organization'),('pro','Professional'),('mod','Moderator')])
name = TextField('Organization/Professional Name')
email = TextField('Email addresss *')
phone = TextField('Phone Number *')
register = SubmitField('Submit user information')
</code></pre>

<p>class LoginForm(Form):</p>

<pre><code>"""Form for logging in for Professionals and Orgs"""

email = TextField('Your email which you used to register')
password = PasswordField('Your passsword')
usertype = SelectField(u'Log me in as', choices=[('org','Organization'),('pro','Professional'),('mod','Moderator')])
login = SubmitField('Login')
</code></pre>

<p>class StarterForm(Form):</p>

<pre><code>"""Form for starting off the profile display process"""
region = SelectField(u'Select you state', choices=[])
pincode = TextField("Your pincode")
specific = TextField("Town or Village")
submit = SubmitField('Submit')
</code></pre>

<p>```</p>

<p>Notice how the region field in StarterForm would require database driven choices? Yeah I need to figure out how to do that in my views function. It's important to render the views otherwise it might break the whole thing by circular imports.</p>

<p>Also since Forms are classes it would be difficult to pass the arguments when calling the form in views. Okay let's attempt that.</p>
]]></content>
  </entry>
  
</feed>
