
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>AVR Assembly revisted - Pronoy Chopra's Blog</title>
  <meta name="author" content="Pronoy Chopra">

  
  <meta name="description" content="Assembly for AVR is really interesting. Back in college I wrote a number of programs and I&#8217;ve been going over them again. This is some of the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://DarkSector.github.com/blog/avr-assembly/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Pronoy Chopra's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Pronoy Chopra's Blog</a></h1>
  
    <h2>Rants and code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:DarkSector.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">AVR Assembly Revisted</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-23T23:22:00+05:30" pubdate data-updated="true">May 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Assembly for AVR is really interesting. Back in college I wrote a number of programs and I&#8217;ve been going over them again. This is some of the code.</p>

<div><script src='https://gist.github.com/2776751.js?file='></script>
<noscript><pre><code>.ORG 0

;STACK POINTER SET
LDI R16, HIGH(RAMEND)
OUT SPH, R16
LDI R16, LOW(RAMEND)
OUT SPL, R16


MAIN:
LDI R16, 0xFF
OUT DDRC, R16

BACK:
COM R16
OUT PORTC, R16
CALL DELAY
RJMP BACK

DELAY:
LDI R17, 100
LOOP3: LDI R18, 255
LOOP2: LDI R19, 255
LOOP1: DEC R19
BRNE LOOP1
DEC R18
BRNE LOOP2
DEC R17
BRNE LOOP3
RET</code></pre></noscript></div>


<p>I have 8 LEDs connected from D0 to D7 on PORTC and they are in the source configuration. 0xFF makes them light up and 0x00 shuts them down. So this is the blinky for you.</p>

<p>Now the DELAY function can only be called if the STACKPOINTER is set. The first few lines after .ORG do just that. Now I&#8217;ll be working on timer and interrupts but first I&#8217;ll put in some more code for simple things like adding 16 bit numbers etc.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Pronoy Chopra</span></span>

      








  


<time datetime="2012-05-23T23:22:00+05:30" pubdate data-updated="true">May 23<span>rd</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/atmel/'>ATMEL</a>, <a class='category' href='/blog/categories/atmega32/'>ATmega32</a>, <a class='category' href='/blog/categories/avr/'>AVR</a>, <a class='category' href='/blog/categories/assembly/'>Assembly</a>, <a class='category' href='/blog/categories/microcontrollers/'>Microcontrollers</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://DarkSector.github.com/blog/avr-assembly/" data-via="pronoyc" data-counturl="http://DarkSector.github.com/blog/avr-assembly/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/my-experience-with-pymongo-till-now/" title="Previous Post: My experience with Pymongo till now">&laquo; My experience with Pymongo till now</a>
      
      
        <a class="basic-alignment right" href="/blog/heroku-is-full-of-surprises/" title="Next Post: Heroku is full of surprises">Heroku is full of surprises &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/transcripts/">Transcripts</a>
      </li>
    
      <li class="post">
        <a href="/blog/my-experience-with-centos-5-dot-8-and-setting-up-flask/">My experience with CentOS 5.8 and setting up Flask</a>
      </li>
    
      <li class="post">
        <a href="/blog/finally-got-allegro-5-working-on-mac-os-x/">Finally got Allegro 5 working on Mac OS X</a>
      </li>
    
      <li class="post">
        <a href="/blog/arduino-ir-code-updated/">Arduino IR code: updated</a>
      </li>
    
      <li class="post">
        <a href="/blog/nasas-iss-live-stream/">NASAs ISS live stream</a>
      </li>
    
      <li class="post">
        <a href="/blog/configured-linksys-wrt120n-bye-bye-old-wifi/">Configured Linksys WRT120N: Bye bye old Wifi</a>
      </li>
    
      <li class="post">
        <a href="/blog/heroku-is-full-of-surprises/">Heroku is full of surprises</a>
      </li>
    
      <li class="post">
        <a href="/blog/avr-assembly/">AVR Assembly revisted</a>
      </li>
    
      <li class="post">
        <a href="/blog/my-experience-with-pymongo-till-now/">My experience with Pymongo till now</a>
      </li>
    
      <li class="post">
        <a href="/blog/replaced-spotlight-with-quicksilver/">Replaced Spotlight with QuickSilver</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/DarkSector">@DarkSector</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'DarkSector',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("pronoyc", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/pronoyc" class="twitter-follow-button" data-show-count="true">Follow @pronoyc</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Pronoy Chopra -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
